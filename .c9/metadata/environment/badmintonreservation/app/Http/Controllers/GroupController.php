{"filter":false,"title":"GroupController.php","tooltip":"/badmintonreservation/app/Http/Controllers/GroupController.php","undoManager":{"mark":3,"position":3,"stack":[[{"start":{"row":3,"column":0},"end":{"row":4,"column":0},"action":"insert","lines":["",""],"id":2}],[{"start":{"row":4,"column":0},"end":{"row":5,"column":20},"action":"insert","lines":["use App\\Models\\Group;","use App\\Models\\Post;"],"id":3}],[{"start":{"row":10,"column":5},"end":{"row":10,"column":6},"action":"remove","lines":["/"],"id":4},{"start":{"row":10,"column":4},"end":{"row":10,"column":5},"action":"remove","lines":["/"]}],[{"start":{"row":10,"column":4},"end":{"row":49,"column":5},"action":"insert","lines":["public function create(Post $post)","    {","        return view('groups.create', compact('post'));","    }","","    public function store(Request $request, Post $post)","    {","        $request->validate([","            'name' => 'required|max:255',","            'description' => 'nullable|max:1000',","        ]);","","        $group = $post->group()->create([","            'name' => $request->name,","            'description' => $request->description,","            'creator_id' => auth()->id(),","        ]);","","        $group->members()->attach(auth()->id());","","        return redirect()->route('groups.show', $group)->with('success', 'グループが作成されました。');","    }","","    public function show(Group $group)","    {","        $messages = $group->messages()->with('user')->latest()->paginate(20);","        return view('groups.show', compact('group', 'messages'));","    }","","    public function join(Group $group)","    {","        $group->members()->attach(auth()->id());","        return back()->with('success', 'グループに参加しました。');","    }","","    public function leave(Group $group)","    {","        $group->members()->detach(auth()->id());","        return back()->with('success', 'グループを退会しました。');","    }"],"id":5}]]},"ace":{"folds":[],"scrolltop":228,"scrollleft":0,"selection":{"start":{"row":49,"column":5},"end":{"row":49,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":15,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1728546806920,"hash":"b59cce7b039f51ee75993f5908609f6e4e2dc6c4"}