{"filter":false,"title":"show.blade.php","tooltip":"/badmintonreservation/resources/views/posts/show.blade.php","ace":{"folds":[],"scrolltop":120,"scrollleft":0,"selection":{"start":{"row":63,"column":8},"end":{"row":63,"column":8},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":2,"state":"start","mode":"ace/mode/php_laravel_blade"}},"hash":"50dfb0005c221230e13617df1033edc8122c8cc1","undoManager":{"mark":3,"position":3,"stack":[[{"start":{"row":13,"column":8},"end":{"row":14,"column":8},"action":"insert","lines":["","        "],"id":2},{"start":{"row":19,"column":8},"end":{"row":19,"column":14},"action":"remove","lines":["</div>"]},{"start":{"row":19,"column":8},"end":{"row":74,"column":8},"action":"insert","lines":["    <div class=\"content__details\">","                <h3>投稿者</h3>","                <p>{{ $post->user->name }}</p> <!-- 投稿者の名前 -->","                ","                <h3>投稿日時</h3>","                <p>{{ $post->created_at->format('Y-m-d H:i') }}</p> <!-- 投稿日時 -->","","                <h3>体育館</h3>","                <p>{{ $post->gym->name }}</p> <!-- 体育館名 -->","                <p>{{ $post->gym->address }}</p> <!-- 体育館住所 -->","","                @if ($post->gym->phone)","                    <p>電話番号: {{ $post->gym->phone }}</p> <!-- 電話番号があれば表示 -->","                @endif","                ","                @if ($post->gym->reserve_link)","                    <p><a href=\"{{ $post->gym->reserve_link }}\">予約リンク</a></p> <!-- 予約リンク -->","                @endif","            </div>","        </div>","        ","        <!-- コメントセクションの追加 -->","        <div class=\"mt-6 bg-white overflow-hidden shadow-sm sm:rounded-lg\">","            <div class=\"p-6 bg-white border-b border-gray-200\">","                <h3 class=\"text-lg font-semibold mb-4\">コメント</h3>","","                @foreach($post->comments as $comment)","                    <div class=\"mb-4 pb-4 border-b\">","                        <p>{{ $comment->body }}</p>","                        <p class=\"mt-2 text-sm text-gray-600\">","                            {{ $comment->user->name }} | ","                            {{ $comment->created_at->diffForHumans() }}","                        </p>","                        @can('delete', $comment)","                            <form action=\"{{ route('comments.destroy', $comment) }}\" method=\"POST\" class=\"mt-2\">","                                @csrf","                                @method('DELETE')","                                <button type=\"submit\" class=\"text-red-600 hover:underline\">削除</button>","                            </form>","                        @endcan","                    </div>","                @endforeach","","                <!-- コメント投稿フォーム -->","                @auth","                    <form action=\"{{ route('comments.store', $post) }}\" method=\"POST\" class=\"mt-6\">","                        @csrf","                        <textarea name=\"body\" rows=\"3\" class=\"w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none\" placeholder=\"コメントを入力...\"></textarea>","                        <button type=\"submit\" class=\"mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\">コメントする</button>","                    </form>","                @else","                    <p class=\"mt-4 text-gray-600\">コメントするには<a href=\"{{ route('login') }}\" class=\"text-blue-600 hover:underline\">ログイン</a>してください。</p>","                @endauth","            </div>","        </div>","        "]}],[{"start":{"row":38,"column":14},"end":{"row":39,"column":0},"action":"insert","lines":["",""],"id":3},{"start":{"row":39,"column":0},"end":{"row":39,"column":8},"action":"insert","lines":["        "]},{"start":{"row":39,"column":8},"end":{"row":40,"column":0},"action":"insert","lines":["",""]},{"start":{"row":40,"column":0},"end":{"row":40,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":40,"column":8},"end":{"row":63,"column":0},"action":"insert","lines":["<!-- いいねボタン -->","        <div class=\"mt-4\">","            @auth","                @if($post->likes()->where('user_id', auth()->id())->exists())","                    <form action=\"{{ route('posts.unlike', $post) }}\" method=\"POST\">","                        @csrf","                        @method('DELETE')","                        <button type=\"submit\" class=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded\">","                            いいね解除 ({{ $post->likes()->count() }})","                        </button>","                    </form>","                @else","                    <form action=\"{{ route('posts.like', $post) }}\" method=\"POST\">","                        @csrf","                        <button type=\"submit\" class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\">","                            いいね ({{ $post->likes()->count() }})","                        </button>","                    </form>","                @endif","            @else","                <p>いいね数: {{ $post->likes()->count() }}</p>","            @endauth","        </div>",""],"id":4}],[{"start":{"row":62,"column":14},"end":{"row":63,"column":0},"action":"remove","lines":["",""],"id":5}]]},"timestamp":1728543049285}